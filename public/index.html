<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Minml dApp example</title>
    <script src="js/index.js"></script>
    <script>
        async function init(){
            try {
                window.reefSigner = await flipperApi.getSigner();
                document.body.classList.add("connected");
                console.log("connn=");
            }catch (e){
                console.log("ERRR=",e.message);
                document.body.classList.add("reef-extension-error");
                document.getElementsByClassName('error-msg')[0].innerHTML = e.message;
            }
            document.body.classList.add("extension-initialized");
        };
        init();
    </script>
    <style>
        .connected{
            display: none;
        }
        .extension-initialized.connected .buttons{
            display: block;
        }
        .extension-initialized .connecting{
            display: none;
        }
        .error-display{
            display: none;
        }
        .reef-extension-error .error-display{
            display: block;
        }
        .reef-extension-error .buttons{
            display: none;
        }
    </style>
</head>
<body>
<h3>Minml dApp</h3>
<div class="connecting">
    <p>Connecting to chain, please wait ...</p>
</div>
<div class="buttons">
    <button type="button" onclick="flipperApi.getFlipperValue(reefSigner)">log value</button>
    <button type="button" onclick="flipperApi.flipIt(reefSigner)">flip it</button>
</div>
<div class="error-display">
    <h3>ERROR: <span class="error-msg"></span></h3>
</div>
</body>
</html>
